{"ast":null,"code":"var _jsxFileName = \"D:\\\\DSI32\\\\ProjetChef\\\\platform_univercity\\\\NextGen-Project\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../auth/AuthContext';\nimport Slider from '../components/Slider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:4000/api/auth';\nexport default function AdminDashboard() {\n  _s();\n  const {\n    accessToken\n  } = useContext(AuthContext);\n  const [form, setForm] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    role: 'student',\n    cin: ''\n  });\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n  const submit = async e => {\n    e.preventDefault();\n    setError(null);\n    setMessage(null);\n    try {\n      const res = await axios.post(`${API_BASE}/admin/users`, form, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      setMessage(`User created: ${res.data.user.email} (login: ${res.data.initialCredentials.login})`);\n      setForm({\n        first_name: '',\n        last_name: '',\n        email: '',\n        role: 'student',\n        cin: ''\n      });\n    } catch (err) {\n      var _err$response;\n      console.error(err);\n      const data = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n      if (data !== null && data !== void 0 && data.errors) setError(data.errors.map(e => `${e.param}: ${e.msg}`).join('; '));else if (data !== null && data !== void 0 && data.message) setError(data.message);else setError('Failed to create user');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Slider, {\n      slides: [\"Welcome to Admin Dashboard\", \"Create student and teacher accounts\", \"Manage users easily\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 700,\n        margin: '18px auto',\n        fontFamily: 'Inter, Roboto, Arial'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Create student or teacher accounts. Initial login will be the CIN provided.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red',\n            marginBottom: 12\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'green',\n            marginBottom: 12\n          },\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submit,\n          style: {\n            display: 'grid',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"First name\",\n            value: form.first_name,\n            onChange: e => setForm({\n              ...form,\n              first_name: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Last name\",\n            value: form.last_name,\n            onChange: e => setForm({\n              ...form,\n              last_name: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Email\",\n            value: form.email,\n            onChange: e => setForm({\n              ...form,\n              email: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"CIN (will be login and initial password)\",\n            value: form.cin,\n            onChange: e => setForm({\n              ...form,\n              cin: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: form.role,\n            onChange: e => setForm({\n              ...form,\n              role: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"student\",\n              children: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"teacher\",\n              children: \"Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"admin\",\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"director\",\n              children: \"Director\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '8px 12px',\n              borderRadius: 6,\n              background: '#0b74ff',\n              color: '#fff',\n              border: 'none'\n            },\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminDashboard, \"wb+TC2YLDADW9LRqpcAoCJejwe0=\");\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useContext","axios","AuthContext","Slider","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","AdminDashboard","_s","accessToken","form","setForm","first_name","last_name","email","role","cin","message","setMessage","error","setError","submit","e","preventDefault","res","post","headers","Authorization","data","user","initialCredentials","login","err","_err$response","console","response","errors","map","param","msg","join","className","children","slides","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","margin","fontFamily","color","marginBottom","onSubmit","display","gap","placeholder","value","onChange","target","type","padding","borderRadius","background","border","_c","$RefreshReg$"],"sources":["D:/DSI32/ProjetChef/platform_univercity/NextGen-Project/frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { AuthContext } from '../auth/AuthContext';\r\nimport Slider from '../components/Slider';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:4000/api/auth';\r\n\r\nexport default function AdminDashboard() {\r\n  const { accessToken } = useContext(AuthContext);\r\n  const [form, setForm] = useState({ first_name: '', last_name: '', email: '', role: 'student', cin: '' });\r\n  const [message, setMessage] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setMessage(null);\r\n    try {\r\n      const res = await axios.post(`${API_BASE}/admin/users`, form, { headers: { Authorization: `Bearer ${accessToken}` } });\r\n      setMessage(`User created: ${res.data.user.email} (login: ${res.data.initialCredentials.login})`);\r\n      setForm({ first_name: '', last_name: '', email: '', role: 'student', cin: '' });\r\n    } catch (err) {\r\n      console.error(err);\r\n      const data = err.response?.data;\r\n      if (data?.errors) setError(data.errors.map(e => `${e.param}: ${e.msg}`).join('; '));\r\n      else if (data?.message) setError(data.message);\r\n      else setError('Failed to create user');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Slider slides={[\"Welcome to Admin Dashboard\",\"Create student and teacher accounts\",\"Manage users easily\"]} />\r\n      <div style={{ maxWidth: 700, margin: '18px auto', fontFamily: 'Inter, Roboto, Arial' }}>\r\n      <div className=\"card\">\r\n      <h2>Admin Dashboard</h2>\r\n      <p>Create student or teacher accounts. Initial login will be the CIN provided.</p>\r\n      {error && <div style={{ color: 'red', marginBottom: 12 }}>{error}</div>}\r\n      {message && <div style={{ color: 'green', marginBottom: 12 }}>{message}</div>}\r\n      <form onSubmit={submit} style={{ display: 'grid', gap: 8 }}>\r\n        <input placeholder=\"First name\" value={form.first_name} onChange={e => setForm({ ...form, first_name: e.target.value })} />\r\n        <input placeholder=\"Last name\" value={form.last_name} onChange={e => setForm({ ...form, last_name: e.target.value })} />\r\n        <input placeholder=\"Email\" value={form.email} onChange={e => setForm({ ...form, email: e.target.value })} />\r\n        <input placeholder=\"CIN (will be login and initial password)\" value={form.cin} onChange={e => setForm({ ...form, cin: e.target.value })} />\r\n        <select value={form.role} onChange={e => setForm({ ...form, role: e.target.value })}>\r\n          <option value=\"student\">Student</option>\r\n          <option value=\"teacher\">Teacher</option>\r\n          <option value=\"admin\">Admin</option>\r\n          <option value=\"director\">Director</option>\r\n        </select>\r\n        <button type=\"submit\" style={{ padding: '8px 12px', borderRadius: 6, background: '#0b74ff', color: '#fff', border: 'none' }}>Create</button>\r\n      </form>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}